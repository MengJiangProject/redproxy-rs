# Squid configuration for test environment
# Allow CONNECT method for all ports (needed for HTTP CONNECT proxy testing)
#
# WARNING: This configuration is INSECURE and should NEVER be used in production!
# The "allow all" ACL permits unrestricted access from any source.
# In production, use specific source IP ranges and restricted port lists.

# Basic configuration
http_port 3128

# Access control - INSECURE: allow all for testing only
# PRODUCTION ALTERNATIVE: acl localnet src 10.0.0.0/8 192.168.0.0/16 172.16.0.0/12
acl all src all
http_access allow all

# Allow CONNECT to all ports (needed for proxy testing)
# PRODUCTION WARNING: This allows CONNECT to ALL ports (1-65535)
# In production, restrict to specific ports: acl SSL_ports port 443 563 873 8443
acl SSL_ports port 1-65535
acl CONNECT method CONNECT
http_access allow CONNECT SSL_ports

# Cache configuration (minimal for testing)
cache_dir ufs /var/spool/squid 100 16 256
cache_mem 64 MB

# Logging
access_log /var/log/squid/access.log squid

# Don't cache anything (for testing)
cache deny all